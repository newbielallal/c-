**###题目**

给定一个非空整数数组，除了某个元素只出现一次以外，其余每个元素均出现了三次。找出那个只出现了一次的元素。

说明：

**你的算法应该具有线性时间复杂度。 你可以不使用额外空间来实现吗？**

**###思路**

因为整数数组中的数全部是int型，将每个数用2进制表示，一共有32个位置，所以可以用一个长度为32的数组来记录每个数的2进制表示每个位置的1的个数，然后除余3，最后通过数组中剩下的1可以表示那个只出现一次的数字。

但是因为题目要求了不能使用额外的空间，所以建立辅助数组记录每个位置出现1的次数的方法就不能使用了，可以进行一下改进。

依然是因为int型的数二进制表示有32个位置，对这32个位置计算数组中的元素是否出现了1，然后将1出现的次数除余3即可，具体可以看注释。

**###code**

```cpp
class Solution {
public:
    int singleNumber(vector<int>& nums) {
        int res = 0;
        for(int i=0; i<32; ++i){//统计32个位置出现1的个数
            int num = 0; //num代表1出现的次数
            for(int j=0; j<nums.size(); ++j){//每个数组中的元素都要计算
                //将元素左移i位然后与1做与操作，就可以得到这个数第i位是不是1了。
                num += (nums[j] >> i) & 1;
                num %= 3;//记录的个数除于3.
            }
            res += (num << i);//保存下这个位置的值
        }
        return res;
    }
};
```